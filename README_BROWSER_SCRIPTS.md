# Browser Automation Scripts for Space Invaders Game

这个目录包含了用于自动化浏览器游戏的脚本集合，具有渐进式的功能改进。

## 📁 文件列表

### 1. `improved-browser-script.js` (v1)
- **基础版本**
- 基本的自动爬楼功能
- 随机门选择
- 简单的游戏状态检测

### 2. `improved-browser-script-v2.js` (v2)
- **改进的状态管理**
- 增强的Go按钮检测（检查可见性和显示状态）
- 改进的游戏状态管理
- 支持从中断的会话继续爬楼

### 3. `improved-browser-script-v3.js` (v3)
- **修复门检测问题**
- 修复了门的可点击性检测
- 区分 `cursor-pointer` 和 `cursor-not-allowed`
- 更准确的游戏状态检测
- 更好的错误处理

### 4. `improved-browser-script-v4.js` (v4) ⭐ **推荐使用**
- **完整的自动化解决方案**
- Go按钮重新出现时自动重启游戏
- 游戏完成检测
- 统计跟踪（游戏计数、轮次计数）
- 全面的日志系统
- 强大的错误恢复机制

## 🚀 使用方法

1. 打开目标游戏网页
2. 按 `F12` 打开浏览器开发者控制台
3. 复制所需版本的脚本内容
4. 粘贴到控制台并按回车执行
5. 脚本将自动开始运行

## 💡 功能特点

### 核心功能
- ✅ 自动检测并点击Go按钮
- ✅ 智能识别可点击的门（排除已点击的门）
- ✅ 逐层自动爬楼
- ✅ 游戏结束自动重启（v4）
- ✅ 详细的日志和统计
- ✅ 错误处理和恢复机制

### 技术特点
- 使用 `async/await` 实现异步控制
- 智能等待机制避免过快操作
- 随机延迟模拟人类行为
- 多重检查点防止脚本卡死

## 📊 版本对比

| 功能 | v1 | v2 | v3 | v4 |
|------|----|----|----|----|
| 基础爬楼 | ✅ | ✅ | ✅ | ✅ |
| Go按钮检测 | ✅ | ✅ | ✅ | ✅ |
| 续爬功能 | ❌ | ✅ | ✅ | ✅ |
| 准确门检测 | ❌ | ❌ | ✅ | ✅ |
| 自动重启 | ❌ | ❌ | ❌ | ✅ |
| 游戏统计 | ❌ | ❌ | ❌ | ✅ |

## 🔧 调试信息

脚本运行时会在控制台输出详细的日志信息：
- 🚀 游戏开始
- 📊 楼层信息
- 🚪 门点击操作
- ✅ 成功状态
- ⚠️ 警告信息
- ❌ 错误信息
- 🏁 游戏结束
- 📈 统计数据

## 📝 注意事项

1. 请确保在正确的游戏页面上运行脚本
2. 不同浏览器可能有细微差异
3. 如遇到问题，可尝试刷新页面后重新运行
4. 建议使用最新版本（v4）以获得最佳体验

## 🛠️ 故障排除

如果脚本无法正常工作：
1. 检查是否在正确的游戏页面
2. 确认控制台没有其他错误
3. 尝试刷新页面
4. 使用最新版本的脚本
5. 检查网络连接是否稳定

## 📅 更新历史

- **2024-08-20**: 创建v1-v4版本，实现完整的自动化功能

---

Created with ❤️ for automated browser gaming